(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{2184:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="form-inline mb-3">\r\n  <div class="form-group mr-2 mb-2">\r\n    <input type="text" class="form-control" id="searchText" [(ngModel)]="searchText">\r\n  </div>\r\n  <button (click)="onSearch()" class="btn btn-primary mb-2">{{ \'shared.search\' | translate }}</button>\r\n</div>\r\n\r\n<img\r\n  src="./assets/flexworker-portal/payslips-placeholder.png"\r\n  *ngIf="loading"\r\n/>\r\n\r\n<div class="alert alert-dark" *ngIf="!loading && flexworkers && flexworkers.length === 0">\r\n  {{ \'flexworkers.flexworkers.not-found\' | translate }}\r\n</div>\r\n\r\n<table class="table" *ngIf="!loading && flexworkers && flexworkers.length > 0">\r\n  <thead>\r\n    <th></th>\r\n    <th>{{ \'shared.name\' | translate }}</th>\r\n    <th class="text-right">{{ \'domain.person.last-login-date\' | translate }}</th>\r\n    <th></th>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor="let f of flexworkers">\r\n      <td>\r\n        <div \r\n          class="internet-portal-avatar text-center"\r\n          [style.backgroundColor]="f.internetPortalColor"\r\n          [title]="f.internetPortalName"\r\n        >{{ f.internetPortalAbbreviation }}</div>\r\n        </td>\r\n      <td class="d-table-cell d-sm-none" colspan="2">\r\n        <div>{{ f.name }}</div>\r\n        <div class="d-block d-sm-none text-right">\r\n          {{ f.lastLoginDate | date:\'EE d MMM yyyy H:mm\' }}\r\n        </div>\r\n      </td>\r\n\r\n      <td class="d-none d-sm-table-cell">{{ f.name }}</td>\r\n      <td class="d-none d-sm-table-cell text-right">{{ f.lastLoginDate | date:\'EE d MMM yyyy H:mm\' }}</td>\r\n      <td>\r\n        <div class="d-block d-sm-none">&nbsp;</div>\r\n        <button class="btn btn-link p-0" (click)="onImpersonate(f)">\r\n          <i class="fal fa-sign-in"></i>\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n'},2185:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".internet-portal-avatar {\n  width: 24px;\n  height: 24px;\n  border-radius: 12px;\n  font-weight: bold;\n  color: white;\n}"},2186:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<fp-all-flexworkers\r\n  [flexworkers]="flexworkers"\r\n  [loading]="loading"\r\n  (impersonate)="impersonate($event)"\r\n  (search)="search($event)"\r\n></fp-all-flexworkers>'},2367:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"FlexworkersModule",(function(){return FlexworkersModule}));var core=__webpack_require__(0),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};let all_flexworkers_component_AllFlexworkersComponent=class AllFlexworkersComponent{constructor(){this.impersonate=new core.EventEmitter,this.search=new core.EventEmitter,this.searchText=""}set flexworkers(value){this._flexworkers=value}get flexworkers(){return this._flexworkers}onSearch(){this.search.emit(this.searchText)}onImpersonate(dto){this.impersonate.emit(dto)}};__decorate([Object(core.Input)(),__metadata("design:type",Boolean)],all_flexworkers_component_AllFlexworkersComponent.prototype,"loading",void 0),__decorate([Object(core.Input)(),__metadata("design:type",Array),__metadata("design:paramtypes",[Array])],all_flexworkers_component_AllFlexworkersComponent.prototype,"flexworkers",null),__decorate([Object(core.Output)(),__metadata("design:type",Object)],all_flexworkers_component_AllFlexworkersComponent.prototype,"impersonate",void 0),__decorate([Object(core.Output)(),__metadata("design:type",Object)],all_flexworkers_component_AllFlexworkersComponent.prototype,"search",void 0),all_flexworkers_component_AllFlexworkersComponent=__decorate([Object(core.Component)({selector:"fp-all-flexworkers",template:(__webpack_require__(2184).default||__webpack_require__(2184)).length?__webpack_require__(2184).default||__webpack_require__(2184):"",styles:[(__webpack_require__(2185).default||__webpack_require__(2185)).length?__webpack_require__(2185).default||__webpack_require__(2185):""]})],all_flexworkers_component_AllFlexworkersComponent);var _a,_services=__webpack_require__(36),role=__webpack_require__(174),is_admin_guard_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},is_admin_guard_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};let is_admin_guard_IsAdminGuard=class IsAdminGuard{constructor(authService){this.authService=authService}canActivate(){const currentUser=this.authService.currentUserValue;return currentUser&&currentUser.role===role.a.Admin}};is_admin_guard_IsAdminGuard=is_admin_guard_decorate([Object(core.Injectable)({providedIn:"root"}),is_admin_guard_metadata("design:paramtypes",["function"==typeof(_a=void 0!==_services.a&&_services.a)?_a:Object])],is_admin_guard_IsAdminGuard);var all_flexworkers_shell_component_a,_b,_c,_d,router=__webpack_require__(45),shared_module=__webpack_require__(291),auth_guard=__webpack_require__(810),authenticationApi_service=__webpack_require__(524),flexworkersApi_service=__webpack_require__(526),nav_service=__webpack_require__(206),all_flexworkers_shell_component_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},all_flexworkers_shell_component_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};let AllFlexworkersShellComponent=class AllFlexworkersShellComponent{constructor(authenticationApiService,flexworkersApiService,navService,router){this.authenticationApiService=authenticationApiService,this.flexworkersApiService=flexworkersApiService,this.navService=navService,this.router=router,this.loading=!0,this.navService.setLocation("frame.menu.flexworkers")}ngOnInit(){this.load("")}load(searchText){this.loading=!0,this.flexworkersApiService.apiFlexworkersGetFlexworkersGet(searchText).subscribe(data=>{this.flexworkers=data.flexworkers,this.loading=!1},()=>this.loading=!1)}search(searchText){this.load(searchText)}impersonate(dto){this.loading=!0,this.authenticationApiService.apiAuthenticationGenerateTokenPost(dto.personId).subscribe(data=>{this.router.navigate(["/auth/handletoken/"+data.token])},()=>this.loading=!1)}};AllFlexworkersShellComponent=all_flexworkers_shell_component_decorate([Object(core.Component)({template:(__webpack_require__(2186).default||__webpack_require__(2186)).length?__webpack_require__(2186).default||__webpack_require__(2186):""}),all_flexworkers_shell_component_metadata("design:paramtypes",["function"==typeof(all_flexworkers_shell_component_a=void 0!==authenticationApi_service.a&&authenticationApi_service.a)?all_flexworkers_shell_component_a:Object,"function"==typeof(_b=void 0!==flexworkersApi_service.a&&flexworkersApi_service.a)?_b:Object,"function"==typeof(_c=void 0!==nav_service.a&&nav_service.a)?_c:Object,"function"==typeof(_d=void 0!==router.d&&router.d)?_d:Object])],AllFlexworkersShellComponent);var flexworkers_module_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let FlexworkersModule=class FlexworkersModule{};FlexworkersModule=flexworkers_module_decorate([Object(core.NgModule)({declarations:[all_flexworkers_component_AllFlexworkersComponent,AllFlexworkersShellComponent],imports:[shared_module.a,router.e.forChild([{path:"all-flexworkers",component:AllFlexworkersShellComponent,canActivate:[auth_guard.a,is_admin_guard_IsAdminGuard]}])]})],FlexworkersModule)}}]);
//# sourceMappingURL=148.01e22ccadebda2a857d6.bundle.js.map