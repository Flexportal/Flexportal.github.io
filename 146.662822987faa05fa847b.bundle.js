(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{2182:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="card">\r\n  <fp-logo-header [logoUrl]="logoUrl$ | async" [hideOnSmallScreen]="true"></fp-logo-header>\r\n  <div class="card-body" *ngIf="!showCaptcha">\r\n    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">\r\n      <div class="form-group mt-3">\r\n        <label for="username">\r\n          <h5>{{ \'shared.email-address\' | translate }}</h5>\r\n        </label>\r\n        <div class="input-group mb-2">\r\n          <div class="input-group-prepend">\r\n            <div class="input-group-text"><i class="fal fa-user"></i></div>\r\n          </div>\r\n          <input data-cy="email-address" type="text" formControlName="username" class="form-control"\r\n            [ngClass]="{ \'is-invalid\': submitted && f.username.errors }" autocomplete="username" />\r\n        </div>\r\n        <div *ngIf="f.username.invalid && (f.username.dirty || f.username.touched)" class="invalid-feedback">\r\n          <div *ngIf="f.username.errors.required">\r\n            {{ \'shared.messages.this-field-is-required\' | translate }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="form-group mt-4">\r\n        <label for="password">\r\n          <h5>{{ \'auth.password\' | translate }}</h5>\r\n        </label>\r\n        <div class="input-group">\r\n          <div class="input-group-prepend">\r\n            <div class="input-group-text"><i class="fal fa-key"></i></div>\r\n          </div>\r\n          <input data-cy="password" type="password" formControlName="password" class="form-control"\r\n            [ngClass]="{ \'is-invalid\': submitted && f.password.errors }" autocomplete="current-password" />\r\n        </div>\r\n        <div *ngIf="f.password.invalid && (f.password.dirty || f.password.touched)" class="invalid-feedback">\r\n          <div *ngIf="f.password.errors.required">\r\n            {{ \'shared.messages.this-field-is-required\' | translate }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="form-group mt-4">\r\n        <button [disabled]="saving" class="btn btn-primary mr-3">\r\n          {{ \'auth.login.login\' | translate }}\r\n          <i *ngIf="saving" class="fas fa-spinner fa-spin ml-2"></i>\r\n        </button>\r\n        <a [routerLink]="[\'/auth/forgot-password\']" style="white-space: nowrap" class="float-right mt-2">{{\r\n          \'auth.login.forgot-password\' | translate\r\n        }}</a>\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n  <div class="card-body" *ngIf="showCaptcha">\r\n    <re-captcha [site_key]="siteKey" (captchaResponse)="handleCorrectCaptcha($event)"></re-captcha>\r\n  </div>\r\n</div>\r\n<fp-footer-shell></fp-footer-shell>'},2183:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="card">\r\n  <fp-logo-header [logoUrl]="logoUrl" [hideOnSmallScreen]="true"></fp-logo-header>\r\n  <div class="card-body">\r\n    <form [formGroup]="form">\r\n      <div class="form-group mt-3">\r\n        <label for="username">\r\n          <h5>{{ \'shared.email-address\' | translate }}</h5>\r\n        </label>\r\n        <p [innerHTML]="\'auth.forgot-password.help-text\' | translate"></p>\r\n        <div class="input-group">\r\n          <div class="input-group-prepend">\r\n            <div class="input-group-text"><i class="fal fa-user"></i></div>\r\n          </div>\r\n          <input type="text" formControlName="username" class="form-control"\r\n            [ngClass]="{ \'is-invalid\': submitted && f.username.errors }" autocomplete="username" />\r\n        </div>\r\n        <div *ngIf="submitted && f.username.errors" class="invalid-feedback">\r\n          <div *ngIf="f.username.errors.required">\r\n            {{ \'shared.messages.this-field-is-required\' | translate }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="form-group mt-4">\r\n        <fp-spinner-button [text]="\'auth.forgot-password.send-email\' | translate" [waiting]="sending"\r\n          (click)="onSend()"></fp-spinner-button>\r\n        <a [routerLink]="[\'/auth/login\']" style="white-space: nowrap" class="float-right mt-2">{{\r\n          \'auth.back-to-login\' | translate\r\n        }}</a>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n<fp-footer-shell></fp-footer-shell>'},2184:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="card">\r\n  <fp-logo-header [logoUrl]="logoUrl" [hideOnSmallScreen]="true"></fp-logo-header>\r\n  <div class="card-body">\r\n    <div *ngIf="!verifying && !verified">\r\n      <p>\r\n        {{ \'auth.update-password.identifier-not-verified\' | translate }}\r\n      </p>\r\n      <p>\r\n        <a [routerLink]="[\'/auth/login\']" style="white-space: nowrap" class="float-right mt-2">\r\n          {{ \'auth.back-to-login\' | translate }}\r\n        </a>\r\n      </p>\r\n    </div>\r\n    <form [formGroup]="form" *ngIf="!verifying && verified">\r\n      <div class="form-group">\r\n        <label for="newPassword">{{ \'auth.password\' | translate }}</label>\r\n        <div class="input-group">\r\n          <div class="input-group-prepend">\r\n            <div class="input-group-text"><i class="fal fa-key"></i></div>\r\n          </div>\r\n          <input id="new-password-text-field" type="password" class="form-control" formControlName="newPassword"\r\n            autocomplete="new-password" [ngClass]="{ \'is-invalid\': submitted && f.newPassword.errors }" />\r\n        </div>\r\n        <div *ngIf="submitted && f.newPassword.errors" class="invalid-feedback">\r\n          <div *ngIf="f.newPassword.errors.required">\r\n            {{ \'shared.messages.this-field-is-required\' | translate }}\r\n          </div>\r\n          <div *ngIf="f.newPassword.errors.minlength">\r\n            {{ \'auth.update-password.password-min-length\' | translate: params }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="form-group">\r\n        <label for="newPasswordConfirm">\r\n          {{ \'auth.update-password.repeat-password\' | translate }}\r\n        </label>\r\n        <div class="input-group">\r\n          <div class="input-group-prepend">\r\n            <div class="input-group-text"><i class="fal fa-key"></i></div>\r\n          </div>\r\n          <input id="confirm-password-text-field" type="password" class="form-control"\r\n            formControlName="newPasswordConfirm" autocomplete="new-password" [ngClass]="{\r\n              \'is-invalid\': submitted && f.newPasswordConfirm.errors\r\n            }" />\r\n        </div>\r\n        <div *ngIf="submitted && form.errors" class="invalid-feedback">\r\n          <div *ngIf="form.hasError(\'mismatch\')">\r\n            {{ \'auth.update-password.the-passwords-are-not-equal\' | translate }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="form-group">\r\n        <fp-spinner-button [text]="\'shared.save\' | translate" [waiting]="saving" (click)="onSave()"></fp-spinner-button>\r\n        <a [routerLink]="[\'/auth/login\']" style="white-space: nowrap" class="float-right mt-2">\r\n          {{ \'auth.back-to-login\' | translate }}\r\n        </a>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n<fp-footer-shell></fp-footer-shell>'},2185:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<form\r\n  novalidate\r\n  (ngSubmit)="save()"\r\n  [formGroup]="form"\r\n  *ngIf="!loading"\r\n  style="max-width: var(--breakpoint-sm);"\r\n>\r\n  <div class="form-group row">\r\n    <label for="languageId" class="col-sm-4 col-form-label"> {{ \'auth.account-settings.language\' | translate }} </label>\r\n    <div class="col-sm-8">\r\n        <div class="form-check">\r\n            <input id="languageIdDe" type="radio" class="form-check-input" value="de" name="language" \r\n                required formControlName="language">\r\n            <label class="form-check-label" for="languageIdDe">\r\n              {{ \'auth.account-settings.languages.de\' | translate }}</label>\r\n         </div>\r\n         <div class="form-check">\r\n            <input id="languageIdEn" type="radio" class="form-check-input" value="en" name="language" \r\n                required formControlName="language">\r\n            <label class="form-check-label" for="languageIdEn">\r\n              {{ \'auth.account-settings.languages.en\' | translate }}</label>\r\n         </div>\r\n         <div class="form-check">\r\n            <input id="languageIdHu" type="radio" class="form-check-input" value="hu" name="language" \r\n                required formControlName="language">\r\n            <label class="form-check-label" for="languageIdHu">\r\n              {{ \'auth.account-settings.languages.hu\' | translate }}</label>\r\n         </div>\r\n         <div class="form-check">\r\n            <input id="languageIdNl" type="radio" class="form-check-input" value="nl" name="language" \r\n                required formControlName="language">\r\n            <label class="form-check-label" for="languageIdNl">\r\n              {{ \'auth.account-settings.languages.nl\' | translate }}</label>\r\n         </div>\r\n         <div class="form-check">\r\n            <input id="languageIdPl" type="radio" class="form-check-input" value="pl" name="language" \r\n                required formControlName="language">\r\n            <label class="form-check-label" for="languageIdPl">\r\n              {{ \'auth.account-settings.languages.pl\' | translate }}</label>\r\n         </div>\r\n         <div class="form-check">\r\n            <input id="languageIdRo" type="radio" class="form-check-input" value="ro" name="language" \r\n                required formControlName="language">\r\n            <label class="form-check-label" for="languageIdRo">\r\n              {{ \'auth.account-settings.languages.ro\' | translate }}</label>\r\n         </div>    \r\n    </div>\r\n  </div>\r\n  <button type="submit" class="btn btn-primary" [disabled]="saving">\r\n    {{ \'shared.save\' | translate }} <i *ngIf="(saving)" class="fas fa-spinner fa-spin ml-2"></i>\r\n  </button>\r\n</form>\r\n'},2186:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<fp-account-settings\r\n  [language]="language$ | async"\r\n  [saving]="saving$ | async"\r\n  (update)="update($event)"\r\n></fp-account-settings>\r\n'},2187:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<fp-forgot-password [logoUrl]="logoUrl$ | async" [sending]="sending$ | async" (send)="send($event)">\r\n</fp-forgot-password>'},2188:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="<fp-login></fp-login>"},2189:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<fp-update-password [logoUrl]="logoUrl$ | async" [verifying]="verifying$ | async" [verified]="verified$ | async"\r\n  [saving]="saving$ | async" (save)="save($event)"></fp-update-password>'},2190:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="<fp-handle-token></fp-handle-token>"},2191:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<ng-container *ngIf="!(currentUser | async)">\r\n    <div class="card">\r\n        <fp-logo-header [logoUrl]="logoUrl$ | async" [hideOnSmallScreen]="true"></fp-logo-header>\r\n        <div class="card-body">\r\n            <div *ngIf="inProgress">\r\n                {{ \'auth.handle-token.loading\' | translate }}\r\n                <i class="fas fa-spinner fa-spin ml-2"></i>\r\n            </div>\r\n            <div *ngIf="error">\r\n                {{error}}\r\n                <i class="fas fa-exclamation-triangle ml-2"></i>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <fp-footer-shell></fp-footer-shell>\r\n</ng-container>'},2226:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var core_1=__webpack_require__(0),captcha_component_1=__webpack_require__(2227),captcha_service_1=__webpack_require__(2228),ReCaptchaModule=function(){function ReCaptchaModule(){}return ReCaptchaModule.decorators=[{type:core_1.NgModule,args:[{declarations:[captcha_component_1.ReCaptchaComponent],exports:[captcha_component_1.ReCaptchaComponent],providers:[captcha_service_1.RECAPTCHA_SERVICE_PROVIDER]}]}],ReCaptchaModule}();exports.ReCaptchaModule=ReCaptchaModule,function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__(2227))},2227:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var core_1=__webpack_require__(0),forms_1=__webpack_require__(28),captcha_service_1=__webpack_require__(2228),ReCaptchaComponent=function(){function ReCaptchaComponent(_zone,_captchaService){this._zone=_zone,this._captchaService=_captchaService,this.site_key=null,this.theme="light",this.type="image",this.size="normal",this.tabindex=0,this.badge="bottomright",this.language=null,this.captchaResponse=new core_1.EventEmitter,this.captchaExpired=new core_1.EventEmitter,this.widgetId=null,this.onChange=function(){},this.onTouched=function(){}}return ReCaptchaComponent.prototype.ngOnInit=function(){var _this=this;this._captchaService.getReady(this.language).subscribe((function(ready){ready&&(_this.widgetId=window.grecaptcha.render(_this.targetRef.nativeElement,{sitekey:_this.site_key,badge:_this.badge,theme:_this.theme,type:_this.type,size:_this.size,tabindex:_this.tabindex,callback:function(response){return _this._zone.run(_this.recaptchaCallback.bind(_this,response))},"expired-callback":function(){return _this._zone.run(_this.recaptchaExpiredCallback.bind(_this))}}))}))},ReCaptchaComponent.prototype.reset=function(){null!==this.widgetId&&(window.grecaptcha.reset(this.widgetId),this.onChange(null))},ReCaptchaComponent.prototype.execute=function(){null!==this.widgetId&&window.grecaptcha.execute(this.widgetId)},ReCaptchaComponent.prototype.getResponse=function(){return null===this.widgetId?null:window.grecaptcha.getResponse(this.widgetId)},ReCaptchaComponent.prototype.writeValue=function(newValue){},ReCaptchaComponent.prototype.registerOnChange=function(fn){this.onChange=fn},ReCaptchaComponent.prototype.registerOnTouched=function(fn){this.onTouched=fn},ReCaptchaComponent.prototype.recaptchaCallback=function(response){this.onChange(response),this.onTouched(),this.captchaResponse.emit(response)},ReCaptchaComponent.prototype.recaptchaExpiredCallback=function(){this.onChange(null),this.onTouched(),this.captchaExpired.emit()},ReCaptchaComponent.decorators=[{type:core_1.Component,args:[{selector:"re-captcha",template:"<div #target></div>",providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef((function(){return ReCaptchaComponent})),multi:!0}]}]}],ReCaptchaComponent.ctorParameters=function(){return[{type:core_1.NgZone},{type:captcha_service_1.ReCaptchaService}]},ReCaptchaComponent.propDecorators={site_key:[{type:core_1.Input}],theme:[{type:core_1.Input}],type:[{type:core_1.Input}],size:[{type:core_1.Input}],tabindex:[{type:core_1.Input}],badge:[{type:core_1.Input}],language:[{type:core_1.Input}],captchaResponse:[{type:core_1.Output}],captchaExpired:[{type:core_1.Output}],targetRef:[{type:core_1.ViewChild,args:["target"]}]},ReCaptchaComponent}();exports.ReCaptchaComponent=ReCaptchaComponent},2228:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var core_1=__webpack_require__(0),rxjs_1=__webpack_require__(49),ReCaptchaService=function(){function ReCaptchaService(zone){var _this=this;this.scriptLoaded=!1,this.readySubject=new rxjs_1.BehaviorSubject(!1),"undefined"!=typeof window&&(window.reCaptchaOnloadCallback=function(){return zone.run(_this.onloadCallback.bind(_this))})}return ReCaptchaService.prototype.getReady=function(language){if(!this.scriptLoaded){this.scriptLoaded=!0;var doc=document.body,script=document.createElement("script");script.innerHTML="",script.src="https://www.google.com/recaptcha/api.js?onload=reCaptchaOnloadCallback&render=explicit"+(language?"&hl="+language:""),script.async=!0,script.defer=!0,doc.appendChild(script)}return this.readySubject.asObservable()},ReCaptchaService.prototype.onloadCallback=function(){this.readySubject.next(!0)},ReCaptchaService.decorators=[{type:core_1.Injectable}],ReCaptchaService.ctorParameters=function(){return[{type:core_1.NgZone}]},ReCaptchaService}();function RECAPTCHA_SERVICE_PROVIDER_FACTORY(ngZone,parentDispatcher){return parentDispatcher||new ReCaptchaService(ngZone)}exports.ReCaptchaService=ReCaptchaService,exports.RECAPTCHA_SERVICE_PROVIDER_FACTORY=RECAPTCHA_SERVICE_PROVIDER_FACTORY,exports.RECAPTCHA_SERVICE_PROVIDER={provide:ReCaptchaService,deps:[core_1.NgZone,[new core_1.Optional,new core_1.SkipSelf,ReCaptchaService]],useFactory:RECAPTCHA_SERVICE_PROVIDER_FACTORY}},2374:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"AuthModule",(function(){return AuthModule}));var core=__webpack_require__(0),common=__webpack_require__(7),fesm2015_router=__webpack_require__(45),fesm2015_forms=__webpack_require__(28),first=__webpack_require__(233),_services=__webpack_require__(36),angular2_recaptcha=__webpack_require__(2226),rest=__webpack_require__(94);const environment_CAPTCHA_SITE_KEY="6LcH8X8UAAAAAEgUY-2mvEBD7Oy_zx45UKbUkqui";var _a,_b,_c,_d,_e,_f,_g,_h,ngrx_store=__webpack_require__(9),frame_state=__webpack_require__(122),themes_state=__webpack_require__(65),role=__webpack_require__(174),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};let login_component_LoginComponent=class LoginComponent{constructor(formBuilder,route,router,authService,authenticationApiService,store,themesStore){this.formBuilder=formBuilder,this.route=route,this.router=router,this.authService=authService,this.authenticationApiService=authenticationApiService,this.store=store,this.themesStore=themesStore,this.saving=!1,this.submitted=!1,this.showCaptcha=!1,this.siteKey=environment_CAPTCHA_SITE_KEY,this.authService.currentUserValue&&(this.authService.currentUserValue.role===role.a.Flexworker?this.router.navigate(["/timesheets"]):this.router.navigate(["/"])),this.logoUrl$=this.themesStore.select(themes_state.i)}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",fesm2015_forms.Validators.required],password:["",fesm2015_forms.Validators.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/",this.store.dispatch(new themes_state.a("Login Component"))}get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,this.loginForm.invalid||(this.saving=!0,this.authenticationApiService.apiAuthenticationNeedsCaptchaGet(this.f.username.value).pipe(Object(first.a)()).subscribe(response=>{response.needsCaptcha?this.showCaptcha=!0:this.login()},()=>{this.saving=!1}))}handleCorrectCaptcha($event){this.login($event)}login(captcha){if(this.submitted=!0,this.loginForm.invalid)return;this.saving=!0;const credentials={username:this.f.username.value,password:this.f.password.value,captcha:captcha};this.authService.login(credentials).pipe(Object(first.a)()).subscribe(response=>{this.store.dispatch(new frame_state.b("Login Component",{language:response.language})),this.store.dispatch(new themes_state.a("Login Component")),this.returnUrl.length>0&&role.a[response.role]===role.a.Flexworker?this.router.navigate(["/timesheets"]):this.router.navigate([this.returnUrl])},()=>{this.saving=!1,this.showCaptcha=!1,this.captcha.reset()})}};__decorate([Object(core.ViewChild)(angular2_recaptcha.ReCaptchaComponent),__metadata("design:type","function"==typeof(_a=void 0!==angular2_recaptcha.ReCaptchaComponent&&angular2_recaptcha.ReCaptchaComponent)?_a:Object)],login_component_LoginComponent.prototype,"captcha",void 0),login_component_LoginComponent=__decorate([Object(core.Component)({selector:"fp-login",template:(__webpack_require__(2182).default||__webpack_require__(2182)).length?__webpack_require__(2182).default||__webpack_require__(2182):""}),__metadata("design:paramtypes",["function"==typeof(_b=void 0!==fesm2015_forms.FormBuilder&&fesm2015_forms.FormBuilder)?_b:Object,"function"==typeof(_c=void 0!==fesm2015_router.a&&fesm2015_router.a)?_c:Object,"function"==typeof(_d=void 0!==fesm2015_router.d&&fesm2015_router.d)?_d:Object,"function"==typeof(_e=void 0!==_services.a&&_services.a)?_e:Object,"function"==typeof(_f=void 0!==rest.AuthenticationApiService&&rest.AuthenticationApiService)?_f:Object,"function"==typeof(_g=void 0!==ngrx_store.h&&ngrx_store.h)?_g:Object,"function"==typeof(_h=void 0!==ngrx_store.h&&ngrx_store.h)?_h:Object])],login_component_LoginComponent);var forgot_password_component_a,forgot_password_component_b,forgot_password_component_c,auth_guard=__webpack_require__(816),shared_module=__webpack_require__(292),forgot_password_component_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},forgot_password_component_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};let forgot_password_component_ForgotPasswordComponent=class ForgotPasswordComponent{constructor(formBuilder,router,authService){this.formBuilder=formBuilder,this.router=router,this.authService=authService,this.send=new core.EventEmitter,this.form=this.formBuilder.group({username:["",fesm2015_forms.Validators.required]}),this.submitted=!1,this.authService.currentUserValue&&this.router.navigate(["/"])}get f(){return this.form.controls}onSend(){this.submitted=!0,this.form.invalid||this.send.emit(this.form.value)}};forgot_password_component_decorate([Object(core.Input)(),forgot_password_component_metadata("design:type",String)],forgot_password_component_ForgotPasswordComponent.prototype,"logoUrl",void 0),forgot_password_component_decorate([Object(core.Input)(),forgot_password_component_metadata("design:type",Boolean)],forgot_password_component_ForgotPasswordComponent.prototype,"sending",void 0),forgot_password_component_decorate([Object(core.Output)(),forgot_password_component_metadata("design:type",Object)],forgot_password_component_ForgotPasswordComponent.prototype,"send",void 0),forgot_password_component_ForgotPasswordComponent=forgot_password_component_decorate([Object(core.Component)({selector:"fp-forgot-password",template:(__webpack_require__(2183).default||__webpack_require__(2183)).length?__webpack_require__(2183).default||__webpack_require__(2183):""}),forgot_password_component_metadata("design:paramtypes",["function"==typeof(forgot_password_component_a=void 0!==fesm2015_forms.FormBuilder&&fesm2015_forms.FormBuilder)?forgot_password_component_a:Object,"function"==typeof(forgot_password_component_b=void 0!==fesm2015_router.d&&fesm2015_router.d)?forgot_password_component_b:Object,"function"==typeof(forgot_password_component_c=void 0!==_services.a&&_services.a)?forgot_password_component_c:Object])],forgot_password_component_ForgotPasswordComponent);var update_password_component_a,update_password_component_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},update_password_component_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};let update_password_component_UpdatePasswordComponent=class UpdatePasswordComponent{constructor(formBuilder){this.formBuilder=formBuilder,this.params={minCharacters:8},this.form=this.formBuilder.group({newPassword:["",fesm2015_forms.Validators.compose([fesm2015_forms.Validators.required,fesm2015_forms.Validators.minLength(8)])],newPasswordConfirm:""},{validator:this.matchValidator}),this.submitted=!1,this.save=new core.EventEmitter}matchValidator(group){return group.controls.newPassword.value===group.controls.newPasswordConfirm.value?null:{mismatch:!0}}get f(){return this.form.controls}onSave(){this.submitted=!0,this.form.invalid||this.save.emit(this.f.newPassword.value)}};update_password_component_decorate([Object(core.Input)(),update_password_component_metadata("design:type",String)],update_password_component_UpdatePasswordComponent.prototype,"logoUrl",void 0),update_password_component_decorate([Object(core.Input)(),update_password_component_metadata("design:type",Boolean)],update_password_component_UpdatePasswordComponent.prototype,"verifying",void 0),update_password_component_decorate([Object(core.Input)(),update_password_component_metadata("design:type",Boolean)],update_password_component_UpdatePasswordComponent.prototype,"verified",void 0),update_password_component_decorate([Object(core.Input)(),update_password_component_metadata("design:type",Boolean)],update_password_component_UpdatePasswordComponent.prototype,"saving",void 0),update_password_component_decorate([Object(core.Output)(),update_password_component_metadata("design:type",Object)],update_password_component_UpdatePasswordComponent.prototype,"save",void 0),update_password_component_UpdatePasswordComponent=update_password_component_decorate([Object(core.Component)({selector:"fp-update-password",template:(__webpack_require__(2184).default||__webpack_require__(2184)).length?__webpack_require__(2184).default||__webpack_require__(2184):""}),update_password_component_metadata("design:paramtypes",["function"==typeof(update_password_component_a=void 0!==fesm2015_forms.FormBuilder&&fesm2015_forms.FormBuilder)?update_password_component_a:Object])],update_password_component_UpdatePasswordComponent);var account_settings_component_a,ngx_translate_core=__webpack_require__(19),frame_module=__webpack_require__(1350),account_settings_component_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},account_settings_component_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};let account_settings_component_AccountSettingsComponent=class AccountSettingsComponent{constructor(fb){this.fb=fb,this.loading=!0,this.update=new core.EventEmitter,this.form=this.fb.group({language:""})}set language(value){this.form.setValue({language:value}),this.loading=!1}get f(){return this.form.controls}save(){this.update.emit(this.f.language.value)}};account_settings_component_decorate([Object(core.Input)(),account_settings_component_metadata("design:type",String),account_settings_component_metadata("design:paramtypes",[String])],account_settings_component_AccountSettingsComponent.prototype,"language",null),account_settings_component_decorate([Object(core.Input)(),account_settings_component_metadata("design:type",Boolean)],account_settings_component_AccountSettingsComponent.prototype,"saving",void 0),account_settings_component_decorate([Object(core.Output)(),account_settings_component_metadata("design:type",Object)],account_settings_component_AccountSettingsComponent.prototype,"update",void 0),account_settings_component_AccountSettingsComponent=account_settings_component_decorate([Object(core.Component)({selector:"fp-account-settings",template:(__webpack_require__(2185).default||__webpack_require__(2185)).length?__webpack_require__(2185).default||__webpack_require__(2185):""}),account_settings_component_metadata("design:paramtypes",["function"==typeof(account_settings_component_a=void 0!==fesm2015_forms.FormBuilder&&fesm2015_forms.FormBuilder)?account_settings_component_a:Object])],account_settings_component_AccountSettingsComponent);var AuthActionTypes,nav_service=__webpack_require__(206);!function(AuthActionTypes){AuthActionTypes.LoadAccountSettings="[Auth] Load AccountSettings",AuthActionTypes.LoadAccountSettingsSuccess="[Auth] Load AccountSettings Success",AuthActionTypes.LoadAccountSettingsFailed="[Auth] Load AccountSettings Failed",AuthActionTypes.UpdateAccountSettings="[Auth] Update AccountSettings",AuthActionTypes.UpdateAccountSettingsSuccess="[Auth] Update AccountSettings Success",AuthActionTypes.UpdateAccountSettingsFailed="[Auth] Update AccountSettings Failed",AuthActionTypes.SendForgotPassword="[Auth] Send Forgot Password",AuthActionTypes.SendForgotPasswordSuccess="[Auth] Send Forgot Password Sucess",AuthActionTypes.SendForgotPasswordFailed="[Auth] Send Forgot Password Failed",AuthActionTypes.VerifyIdentifier="[Auth] Verify Identifier",AuthActionTypes.VerifyIdentifierSuccess="[Auth] Verify Identifier Success",AuthActionTypes.VerifyIdentifierFailed="[Auth] Verify Identifier Failed",AuthActionTypes.UpdatePassword="[Auth] Update Password",AuthActionTypes.UpdatePasswordSuccess="[Auth] Update Password Success",AuthActionTypes.UpdatePasswordFailed="[Auth] Update Password Failed"}(AuthActionTypes||(AuthActionTypes={}));class LoadAccountSettings{constructor(origin){this.origin=origin,this.type=AuthActionTypes.LoadAccountSettings}}class LoadAccountSettingsSuccess{constructor(origin,payload){this.origin=origin,this.payload=payload,this.type=AuthActionTypes.LoadAccountSettingsSuccess}}class LoadAccountSettingsFailed{constructor(origin){this.origin=origin,this.type=AuthActionTypes.LoadAccountSettingsFailed}}class UpdateAccountSettings{constructor(origin,payload){this.origin=origin,this.payload=payload,this.type=AuthActionTypes.UpdateAccountSettings}}class UpdateAccountSettingsSuccess{constructor(origin,payload){this.origin=origin,this.payload=payload,this.type=AuthActionTypes.UpdateAccountSettingsSuccess}}class UpdateAccountSettingsFailed{constructor(origin){this.origin=origin,this.type=AuthActionTypes.UpdateAccountSettingsFailed}}class SendForgotPassword{constructor(origin,payload){this.origin=origin,this.payload=payload,this.type=AuthActionTypes.SendForgotPassword}}class SendForgotPasswordSuccess{constructor(origin){this.origin=origin,this.type=AuthActionTypes.SendForgotPasswordSuccess}}class SendForgotPasswordFailed{constructor(origin){this.origin=origin,this.type=AuthActionTypes.SendForgotPasswordFailed}}class VerifyIdentifier{constructor(origin,payload){this.origin=origin,this.payload=payload,this.type=AuthActionTypes.VerifyIdentifier}}class VerifyIdentifierSuccess{constructor(origin,payload){this.origin=origin,this.payload=payload,this.type=AuthActionTypes.VerifyIdentifierSuccess}}class VerifyIdentifierFailed{constructor(origin){this.origin=origin,this.type=AuthActionTypes.VerifyIdentifierFailed}}class UpdatePassword{constructor(origin,payload){this.origin=origin,this.payload=payload,this.type=AuthActionTypes.UpdatePassword}}class UpdatePasswordSuccess{constructor(origin){this.origin=origin,this.type=AuthActionTypes.UpdatePasswordSuccess}}class UpdatePasswordFailed{constructor(origin){this.origin=origin,this.type=AuthActionTypes.UpdatePasswordFailed}}const getAuthFeatureState=Object(ngrx_store.o)("auth"),getLanguage=Object(ngrx_store.p)(getAuthFeatureState,state=>state.accountSettings.language),getAccountSettingsSaving=Object(ngrx_store.p)(getAuthFeatureState,state=>state.accountSettingsSaving),getForgotPasswordSending=Object(ngrx_store.p)(getAuthFeatureState,state=>state.forgotPasswordSending),getVerifying=Object(ngrx_store.p)(getAuthFeatureState,state=>state.verifying),getVerified=Object(ngrx_store.p)(getAuthFeatureState,state=>state.verified),getSaving=Object(ngrx_store.p)(getAuthFeatureState,state=>state.passwordSaving);var account_settings_shell_component_a,account_settings_shell_component_b,utils=__webpack_require__(29),account_settings_shell_component_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},account_settings_shell_component_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};let account_settings_shell_component_AccountSettingsShellComponent=class AccountSettingsShellComponent{constructor(navService,store){this.navService=navService,this.store=store,this.navService.setLocation(Object(utils._)("frame.menu.language-settings"))}ngOnInit(){this.saving$=this.store.pipe(Object(ngrx_store.q)(getAccountSettingsSaving)),this.language$=this.store.pipe(Object(ngrx_store.q)(getLanguage)),this.store.dispatch(new LoadAccountSettings("AccountSettings Component"))}isDirty(){return!1}update(language){this.store.dispatch(new UpdateAccountSettings("AccountSettings Component",{language:language}))}};account_settings_shell_component_AccountSettingsShellComponent=account_settings_shell_component_decorate([Object(core.Component)({template:(__webpack_require__(2186).default||__webpack_require__(2186)).length?__webpack_require__(2186).default||__webpack_require__(2186):"",changeDetection:core.ChangeDetectionStrategy.OnPush}),account_settings_shell_component_metadata("design:paramtypes",["function"==typeof(account_settings_shell_component_a=void 0!==nav_service.a&&nav_service.a)?account_settings_shell_component_a:Object,"function"==typeof(account_settings_shell_component_b=void 0!==ngrx_store.h&&ngrx_store.h)?account_settings_shell_component_b:Object])],account_settings_shell_component_AccountSettingsShellComponent);var auth_effects_a,auth_effects_b,auth_effects_c,auth_effects_d,auth_effects_e,auth_effects_f,auth_effects_g,confirm_leave_guard=__webpack_require__(561),ngrx_effects=__webpack_require__(24),mergeMap=__webpack_require__(47),map=__webpack_require__(11),catchError=__webpack_require__(205),switchMap=__webpack_require__(101),of=__webpack_require__(17),ngx_toastr=__webpack_require__(234),auth_effects_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},auth_effects_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};let auth_effects_AuthEffects=class AuthEffects{constructor(actions$,accountSettingsApiService,authenticationApiService,router,toastr,translateService,store){this.actions$=actions$,this.accountSettingsApiService=accountSettingsApiService,this.authenticationApiService=authenticationApiService,this.router=router,this.toastr=toastr,this.translateService=translateService,this.store=store,this.loadAccountSettings$=this.actions$.pipe(Object(ngrx_effects.d)(AuthActionTypes.LoadAccountSettings),Object(mergeMap.b)(action=>this.accountSettingsApiService.apiAccountSettingsGetSettingsGet().pipe(Object(map.a)(data=>new LoadAccountSettingsSuccess(action.origin+" > Auth Effects",{language:data.language})),Object(catchError.a)(()=>Object(of.a)(new LoadAccountSettingsFailed(action.origin+" > Auth Effects")))))),this.updateAccountSettings$=this.actions$.pipe(Object(ngrx_effects.d)(AuthActionTypes.UpdateAccountSettings),Object(switchMap.a)(action=>(this.store.dispatch(new frame_state.b(this.newOrigin(action.origin),{language:action.payload.language})),this.accountSettingsApiService.apiAccountSettingsUpdatePost({language:action.payload.language}).pipe(Object(map.a)(()=>(this.translateService.get(Object(utils._)("shared.messages.the-changes-are-saved")).subscribe(text=>this.toastr.success(text)),new UpdateAccountSettingsSuccess(this.newOrigin(action.origin),{language:action.payload.language}))),Object(catchError.a)(()=>Object(of.a)(new UpdateAccountSettingsFailed(this.newOrigin(action.origin)))))))),this.sendForgotPassword$=this.actions$.pipe(Object(ngrx_effects.d)(AuthActionTypes.SendForgotPassword),Object(switchMap.a)(action=>this.authenticationApiService.apiAuthenticationSendUpdatePasswordEmailPost(action.payload).pipe(Object(map.a)(()=>(this.toastr.info("Als de gebruikersnaam bekend is dan is er een e-mail verstuurd naar het bij de gebruiker bekende e-mailadres."),new SendForgotPasswordSuccess(this.newOrigin(action.origin)))),Object(catchError.a)(()=>Object(of.a)(new SendForgotPasswordFailed(this.newOrigin(action.origin))))))),this.verifyIdentifier$=this.actions$.pipe(Object(ngrx_effects.d)(AuthActionTypes.VerifyIdentifier),Object(mergeMap.b)(action=>{const identifier=action.payload;if(null==identifier||""===identifier)return Object(of.a)(new VerifyIdentifierFailed(this.newOrigin(action.origin)));const dto={identifier:identifier};return this.authenticationApiService.apiAuthenticationVerifyIdentifierPost(dto).pipe(Object(map.a)(data=>new VerifyIdentifierSuccess(action.origin+" > Auth Effects",null!==data.validityDate)),Object(catchError.a)(()=>Object(of.a)(new VerifyIdentifierFailed(action.origin+" > Auth Effects"))))})),this.updatePassword$=this.actions$.pipe(Object(ngrx_effects.d)(AuthActionTypes.UpdatePassword),Object(switchMap.a)(action=>this.authenticationApiService.apiAuthenticationUpdatePasswordPost(action.payload).pipe(Object(map.a)(()=>(this.translateService.get(Object(utils._)("auth.update-password.password-changed-succesfully")).subscribe(text=>this.toastr.success(text)),this.router.navigate(["/auth/login"]),new UpdatePasswordSuccess(this.newOrigin(action.origin)))),Object(catchError.a)(()=>Object(of.a)(new UpdatePasswordFailed(this.newOrigin(action.origin)))))))}newOrigin(prevOrigin){return prevOrigin+" > Auth Effects"}};auth_effects_decorate([Object(ngrx_effects.b)(),auth_effects_metadata("design:type",Object)],auth_effects_AuthEffects.prototype,"loadAccountSettings$",void 0),auth_effects_decorate([Object(ngrx_effects.b)(),auth_effects_metadata("design:type",Object)],auth_effects_AuthEffects.prototype,"updateAccountSettings$",void 0),auth_effects_decorate([Object(ngrx_effects.b)(),auth_effects_metadata("design:type",Object)],auth_effects_AuthEffects.prototype,"sendForgotPassword$",void 0),auth_effects_decorate([Object(ngrx_effects.b)(),auth_effects_metadata("design:type",Object)],auth_effects_AuthEffects.prototype,"verifyIdentifier$",void 0),auth_effects_decorate([Object(ngrx_effects.b)(),auth_effects_metadata("design:type",Object)],auth_effects_AuthEffects.prototype,"updatePassword$",void 0),auth_effects_AuthEffects=auth_effects_decorate([Object(core.Injectable)(),auth_effects_metadata("design:paramtypes",["function"==typeof(auth_effects_a=void 0!==ngrx_effects.a&&ngrx_effects.a)?auth_effects_a:Object,"function"==typeof(auth_effects_b=void 0!==rest.AccountSettingsApiService&&rest.AccountSettingsApiService)?auth_effects_b:Object,"function"==typeof(auth_effects_c=void 0!==rest.AuthenticationApiService&&rest.AuthenticationApiService)?auth_effects_c:Object,"function"==typeof(auth_effects_d=void 0!==fesm2015_router.d&&fesm2015_router.d)?auth_effects_d:Object,"function"==typeof(auth_effects_e=void 0!==ngx_toastr.b&&ngx_toastr.b)?auth_effects_e:Object,"function"==typeof(auth_effects_f=void 0!==ngx_translate_core.c&&ngx_translate_core.c)?auth_effects_f:Object,"function"==typeof(auth_effects_g=void 0!==ngrx_store.h&&ngrx_store.h)?auth_effects_g:Object])],auth_effects_AuthEffects);const initialState={accountSettings:{language:null},accountSettingsSaving:!1,forgotPasswordSending:!1,verifying:!1,verified:!1,passwordSaving:!1};var forgot_password_shell_component_a,forgot_password_shell_component_b,forgot_password_shell_component_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},forgot_password_shell_component_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};let forgot_password_shell_component_ForgotPasswordShellComponent=class ForgotPasswordShellComponent{constructor(themesStore,authStore){this.themesStore=themesStore,this.authStore=authStore,this.logoUrl$=this.themesStore.select(themes_state.i),this.sending$=this.authStore.select(getForgotPasswordSending)}ngOnInit(){}send(dto){this.authStore.dispatch(new SendForgotPassword("Forgot Password Component",dto))}};forgot_password_shell_component_ForgotPasswordShellComponent=forgot_password_shell_component_decorate([Object(core.Component)({template:(__webpack_require__(2187).default||__webpack_require__(2187)).length?__webpack_require__(2187).default||__webpack_require__(2187):"",changeDetection:core.ChangeDetectionStrategy.OnPush}),forgot_password_shell_component_metadata("design:paramtypes",["function"==typeof(forgot_password_shell_component_a=void 0!==ngrx_store.h&&ngrx_store.h)?forgot_password_shell_component_a:Object,"function"==typeof(forgot_password_shell_component_b=void 0!==ngrx_store.h&&ngrx_store.h)?forgot_password_shell_component_b:Object])],forgot_password_shell_component_ForgotPasswordShellComponent);var login_shell_component_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},login_shell_component_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};let LoginShellComponent=class LoginShellComponent{constructor(){}ngOnInit(){}};LoginShellComponent=login_shell_component_decorate([Object(core.Component)({selector:"fp-login-shell",template:(__webpack_require__(2188).default||__webpack_require__(2188)).length?__webpack_require__(2188).default||__webpack_require__(2188):""}),login_shell_component_metadata("design:paramtypes",[])],LoginShellComponent);var update_password_shell_component_a,update_password_shell_component_b,update_password_shell_component_c,update_password_shell_component_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},update_password_shell_component_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};let update_password_shell_component_UpdatePasswordShellComponent=class UpdatePasswordShellComponent{constructor(activatedRoute,themesStore,authStore){this.activatedRoute=activatedRoute,this.themesStore=themesStore,this.authStore=authStore,this.logoUrl$=this.themesStore.select(themes_state.i),this.verifying$=this.authStore.select(getVerifying),this.verified$=this.authStore.select(getVerified),this.saving$=this.authStore.select(getSaving)}ngOnInit(){this.activatedRoute.queryParams.subscribe(params=>{this.identifier=params.identifier,this.authStore.dispatch(new VerifyIdentifier("Update Password Component",this.identifier))})}save(newPassword){this.authStore.dispatch(new UpdatePassword("Update Password Component",{newPassword:newPassword,identifier:this.identifier}))}};update_password_shell_component_UpdatePasswordShellComponent=update_password_shell_component_decorate([Object(core.Component)({selector:"fp-update-password-shell",template:(__webpack_require__(2189).default||__webpack_require__(2189)).length?__webpack_require__(2189).default||__webpack_require__(2189):""}),update_password_shell_component_metadata("design:paramtypes",["function"==typeof(update_password_shell_component_a=void 0!==fesm2015_router.a&&fesm2015_router.a)?update_password_shell_component_a:Object,"function"==typeof(update_password_shell_component_b=void 0!==ngrx_store.h&&ngrx_store.h)?update_password_shell_component_b:Object,"function"==typeof(update_password_shell_component_c=void 0!==ngrx_store.h&&ngrx_store.h)?update_password_shell_component_c:Object])],update_password_shell_component_UpdatePasswordShellComponent);var handle_token_shell_component_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},handle_token_shell_component_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};let HandleTokenShellComponent=class HandleTokenShellComponent{constructor(){}ngOnInit(){}};HandleTokenShellComponent=handle_token_shell_component_decorate([Object(core.Component)({selector:"fp-handle-token-shell",template:(__webpack_require__(2190).default||__webpack_require__(2190)).length?__webpack_require__(2190).default||__webpack_require__(2190):""}),handle_token_shell_component_metadata("design:paramtypes",[])],HandleTokenShellComponent);var handle_token_component_a,handle_token_component_b,handle_token_component_c,handle_token_component_d,handle_token_component_e,handle_token_component_f,handle_token_component_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},handle_token_component_metadata=function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};let handle_token_component_HandleTokenComponent=class HandleTokenComponent{constructor(authService,route,store,router,translateService,themesStore){this.authService=authService,this.route=route,this.store=store,this.router=router,this.translateService=translateService,this.themesStore=themesStore,this.error="",this.inProgress=!0,this.logoUrl$=this.themesStore.select(themes_state.i),this.currentUser=this.authService.currentUser}ngOnInit(){this.token=this.route.snapshot.paramMap.get("token")}ngAfterViewInit(){this.inProgress=!0,this.error="",this.authService.loginByToken(this.token).pipe(Object(first.a)()).subscribe(response=>{this.store.dispatch(new frame_state.b("Login Component",{language:response.language})),this.store.dispatch(new themes_state.a("Login Component")),role.a[response.role]===role.a.Flexworker?this.router.navigate(["/timesheets"]):this.router.navigate([""])},err=>{this.inProgress=!1;const error=err.error;error?error.warnings.forEach(x=>{this.translateService.get(x).subscribe(text=>this.error+=text)}):this.translateService.get("shared.messages.external-systems-fail").subscribe(text=>this.error=text)})}};handle_token_component_HandleTokenComponent=handle_token_component_decorate([Object(core.Component)({selector:"fp-handle-token",template:(__webpack_require__(2191).default||__webpack_require__(2191)).length?__webpack_require__(2191).default||__webpack_require__(2191):""}),handle_token_component_metadata("design:paramtypes",["function"==typeof(handle_token_component_a=void 0!==_services.a&&_services.a)?handle_token_component_a:Object,"function"==typeof(handle_token_component_b=void 0!==fesm2015_router.a&&fesm2015_router.a)?handle_token_component_b:Object,"function"==typeof(handle_token_component_c=void 0!==ngrx_store.h&&ngrx_store.h)?handle_token_component_c:Object,"function"==typeof(handle_token_component_d=void 0!==fesm2015_router.d&&fesm2015_router.d)?handle_token_component_d:Object,"function"==typeof(handle_token_component_e=void 0!==ngx_translate_core.c&&ngx_translate_core.c)?handle_token_component_e:Object,"function"==typeof(handle_token_component_f=void 0!==ngrx_store.h&&ngrx_store.h)?handle_token_component_f:Object])],handle_token_component_HandleTokenComponent);var auth_module_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let AuthModule=class AuthModule{};AuthModule=auth_module_decorate([Object(core.NgModule)({imports:[common.b,shared_module.a,fesm2015_forms.FormsModule,angular2_recaptcha.ReCaptchaModule,ngx_translate_core.b,frame_module.a,ngrx_store.j.forFeature("auth",(function reducer(state=initialState,action){switch(action.type){case AuthActionTypes.LoadAccountSettings:return Object.assign({},state);case AuthActionTypes.LoadAccountSettingsSuccess:return Object.assign(Object.assign({},state),{accountSettings:{language:action.payload.language}});case AuthActionTypes.LoadAccountSettingsFailed:return Object.assign(Object.assign({},state),{accountSettings:null});case AuthActionTypes.UpdateAccountSettings:return Object.assign(Object.assign({},state),{accountSettingsSaving:!0});case AuthActionTypes.UpdateAccountSettingsSuccess:return Object.assign(Object.assign({},state),{accountSettings:{language:action.payload.language},accountSettingsSaving:!1});case AuthActionTypes.UpdateAccountSettingsFailed:return Object.assign(Object.assign({},state),{accountSettingsSaving:!1});case AuthActionTypes.SendForgotPassword:return Object.assign(Object.assign({},state),{forgotPasswordSending:!0});case AuthActionTypes.SendForgotPasswordSuccess:case AuthActionTypes.SendForgotPasswordFailed:return Object.assign(Object.assign({},state),{forgotPasswordSending:!1});case AuthActionTypes.VerifyIdentifier:return Object.assign(Object.assign({},state),{verifying:!0,verified:!1});case AuthActionTypes.VerifyIdentifierSuccess:return Object.assign(Object.assign({},state),{verifying:!1,verified:!0});case AuthActionTypes.VerifyIdentifierFailed:return Object.assign(Object.assign({},state),{verifying:!1,verified:!1});case AuthActionTypes.UpdatePassword:return Object.assign(Object.assign({},state),{passwordSaving:!0});case AuthActionTypes.UpdatePasswordSuccess:case AuthActionTypes.UpdatePasswordFailed:return Object.assign(Object.assign({},state),{passwordSaving:!1});default:return state}})),ngrx_effects.c.forFeature([auth_effects_AuthEffects]),fesm2015_router.e.forChild([{path:"forgot-password",component:forgot_password_shell_component_ForgotPasswordShellComponent},{path:"login",component:LoginShellComponent},{path:"update-password",component:update_password_shell_component_UpdatePasswordShellComponent},{path:"account-settings",component:account_settings_shell_component_AccountSettingsShellComponent,canActivate:[auth_guard.a],canDeactivate:[confirm_leave_guard.a]},{path:"handletoken/:token",component:HandleTokenShellComponent}])],declarations:[forgot_password_component_ForgotPasswordComponent,forgot_password_shell_component_ForgotPasswordShellComponent,login_component_LoginComponent,LoginShellComponent,update_password_component_UpdatePasswordComponent,update_password_shell_component_UpdatePasswordShellComponent,account_settings_component_AccountSettingsComponent,account_settings_shell_component_AccountSettingsShellComponent,forgot_password_shell_component_ForgotPasswordShellComponent,handle_token_component_HandleTokenComponent,HandleTokenShellComponent]})],AuthModule)}}]);
//# sourceMappingURL=146.662822987faa05fa847b.bundle.js.map